# Git Workflow Guide
## Структура репозитория

five-leads-group/
---> docs/ # Документация процессов работы
---> content/ # Артефакты команды 
---> README.md # Описание проекта
## Основные ветки 
### main - Главная ветка репозитория 
- Содержит только проверенный и одобренный контент 
- Защищена от прямых коммитов 
- Все изменения вливаются через Pull Request с обязательным approve от 3-х человек
## Именование веток
### Формат
**`<папка>/<действие>-<описание>`**
### Правила 
- Использовать **только lowercase** (нижний регистр) 
- Разделять слова **дефисами** `-` 
- Название должно быть **описательным** и **кратким** (3-6 слов) 
- Не использовать camelCase, PascalCase или snake_case
- Не заканчивать название дефисом 
- ### Префиксы папок 
- `docs/` — изменения в папке Docs/
- `content/` — изменения в папке content/
- `general/` — изменения в нескольких папках или корне
### Действия 
- `add` — добавление нового документа
- `update` — обновление существующего документа 
- `fix` — исправление опечаток, ошибок 
- `refactor` — реструктуризация документа
- `remove` — удаление документа
### Примеры правильных названий
**Для Docs/:**
- docs/add-git-workflow  
- docs/update-branching-strategy  
- docs/fix-readme-typos

**Для content/:**
- content/add-sprint1-report  
- content/update-project-plan  
- content/add-meeting-notes
**Для общих изменений:**
- general/update-readme  
- general/restructure-project
## Правила коммитов 
### Формат 
**`<тип>(<область>): <описание>`**

**`[необязательное тело]`**

**`[необязательные сноски]`**


### Типы коммитов
- `docs` — изменения документации в Docs/
- `content` — изменения в content/
- `fix` — исправление опечаток, ошибок
- `refactor` — переструктурирование без изменения содержания
- `style` — форматирование, изменение стиля
- `chore` — технические изменения (настройки, конфигурация)

### Правила написания
1. **Заголовок не более 50 символов**
2. **Использовать lowercase** для типа
3. **Не ставить точку** в конце заголовка
4. **Писать на английском языке**
5. **Отделять тело пустой строкой** от заголовка
6. **Тело коммита — не более 72 символов** в строке

### Примеры коммитов

**Простые коммиты:**
- docs(readme): add installation instructions  
- docs(git-guide): create branch naming conventions  
- content: add sprint 1 report  
- fix(readme): correct typo in introduction  
- style(docs): improve markdown formatting
**С детальным описанием:**
docs(git-guide): add pull request workflow

Добавлено описание процесса работы с PR:
- Создание ветки
- Открытие PR
- Процесс review
- Merge в main

## Процесс работы (Workflow)

### 1. Начало работы над задачей

**Получите актуальную версию main:**

> [!NOTE]
> git checkout main  
> git pull origin main


**Создайте новую ветку:**

> [!NOTE]
> git checkout -b docs/add-meeting-guide


### 2. Работа над документом

**Делайте коммиты:**

> [!NOTE]
> git add docs/meeting-guide.md  
> git commit -m "docs(meeting-guide): create initial structure"


**Делайте коммиты часто:**
- Один коммит = одно логическое изменение
- Не накапливайте много изменений в одном коммите

**Пушьте изменения:**

> [!NOTE]
> git push origin docs/add-meeting-guide


### 3. Создание Pull Request

**После завершения работы:**
1. Перейдите на GitHub
2. Нажмите **"Compare & pull request"**
3. Заполните описание PR:
   - Что было сделано
   - Почему это было сделано
   - Что нужно проверить ревьюеру

**Шаблон описания PR:**
**Описание**

Краткое описание изменений

**Что изменилось**

- Добавлен новый документ X
- Обновлен раздел Y в документе


4. Назначьте **ревьюера** из команды 
5. Нажмите **"Create pull request"**
### 4. Процесс ревью

**Для автора PR:**
- Следите за комментариями ревьюера
- Отвечайте на вопросы
- Вносите правки при необходимости
- Помечайте resolved комментарии как решенные

**Для ревьюера:**
- Проверьте содержание документа на:
  - Грамматику и опечатки
  - Логическую структуру
  - Полноту информации
  - Соответствие стилю команды
- Оставляйте конструктивные комментарии
- Используйте "Approve" только когда полностью удовлетворены
- Используйте "Request changes" если нужны исправления
- Используйте "Comment" для вопросов без блокировки

**Требования для merge:**
- 3 approve от других членов команды
- Все комментарии должны быть решены
- Ревьюер не может быть последним, кто делал push

### 5. Внесение правок после ревью

**Если ревьюер запросил изменения:**
Внесите правки в файл

> [!NOTE]
> git add Docs/meeting-guide.md  
> git commit -m "docs(meeting-guide): fix typos in introduction"  
> git push origin docs/add-meeting-guide

- PR автоматически обновится
- Старые approve будут сброшены
- Потребуется новое одобрение

### 6. Merge Pull Request

**После получения approve:**
1. Убедитесь, что все комментарии решены
2. Нажмите **"Merge pull request"**
3. Выберите стратегию merge:
   - **Merge commit** — сохраняет историю всех коммитов
4. Нажмите **"Confirm merge"**
5. Удалите ветку после merge (нажмите **"Delete branch"**)

### 7. Синхронизация с main

**После merge обновите локальную main:**

> [!NOTE]
> git checkout main  
> git pull origin main  
> git branch -d docs/add-meeting-guide # удалить локальную ветку


## Защита ветки main

### Настроенные правила
- Запрещен прямой push в main
-  Все изменения только через Pull Request
- Требуется минимум 3 approve
- Все комментарии должны быть решены
- Approve сбрасывается при новых коммитах

### Что это означает
- Никто не может закоммитить напрямую в main
- Каждое изменение проходит review
- Качество документации контролируется командой

## Полезные команды Git

### Просмотр статуса

> [!NOTE]
> git status # текущее состояние  
> git log --oneline # история коммитов  
> git branch # список локальных веток  
> git branch -r # список удаленных веток


### Работа с ветками

> [!NOTE]
> git checkout -b <название> # создать и переключиться  
> git checkout <название> # переключиться на ветку  
> git branch -d <название> # удалить локальную ветку  
> git push origin --delete <название> # удалить удаленную ветку


### Синхронизация

> [!NOTE]
> git pull origin main # получить изменения из main  
> git fetch origin # получить информацию о ветках  
> git push origin <ветка> # отправить ветку на сервер


### Откат изменений

> [!NOTE]
> git reset HEAD <файл> # убрать файл из staged  
> git checkout -- <файл> # отменить изменения в файле  
> git revert `<commit>` # создать коммит, отменяющий изменения


## Устранение проблем

### Конфликты при merge
#### 1. Обновите свою ветку

> [!NOTE]
> git checkout docs/your-branch  
> git pull origin main

#### 2. Разрешите конфликты в файлах

#### 3. Закоммитьте разрешение

> [!NOTE]
> git add .  
> git commit -m "docs: resolve merge conflicts"  
> git push origin docs/your-branch


### Случайный коммит не в ту ветку
#### 1. Скопируйте SHA коммита (например, abc123)

#### 2. Переключитесь на правильную ветку

> [!NOTE]
> git checkout correct-branch

#### 3. Перенесите коммит

> [!NOTE]
> git cherry-pick abc123

#### 4. Вернитесь в неправильную ветку и удалите коммит

> [!NOTE]
> git checkout wrong-branch  
> git reset --hard HEAD~1


### Забыли создать ветку и закоммитили в main
#### 1. Создайте новую ветку (коммиты перенесутся)

> [!NOTE]
> git checkout -b docs/new-branch

#### 2. Вернитесь к main и сбросьте

> [!NOTE]
> git checkout main  
> git reset --hard origin/main